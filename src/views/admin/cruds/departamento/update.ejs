<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title><%= title %></title>
        <%- include('../../../partials/head') %>
    </head>
    <body>
        <%- include('../../../partials/nav_admin') %>

        <main class="container p-4">
            <h2 class="mb-4 text-secondary"><%= title %></h2>

            <% if (error) { %>
            <div
                class="alert alert-danger alert-dismissible fade show mb-4"
                role="alert"
            >
                <strong>Error!</strong> <%= error.message %>
                <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="alert"
                    aria-label="Close"
                ></button>
            </div>
            <% } %>

            <form
                class="border border-secondary border-2 rounded-4 p-4"
                method="post"
                action="/admin/departamento/update/:<%= departamento.departamento_id %>"
            >
                <div class="mb-4">
                    <label for="depa_nombre" class="form-label">Nombre</label>
                    <input
                        name="depa_nombre"
                        id="depa_nombre"
                        type="text"
                        class="form-control"
                        value="<%= departamento.departamento_nombre %>"
                    />
                </div>

                <div class="mb-4">
                    <label for="depa_descripcion" class="form-label"
                        >Descripci√≥n</label
                    >
                    <input
                        name="depa_descripcion"
                        id="depa_descripcion"
                        type="text"
                        class="form-control"
                        value="<%= departamento.departamento_descripcion %>"
                    />
                </div>

                <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input"
                    id="depa_activo" name="depa_activo" <%=
                    departamento.departamento_activo == "SI" ? "checked" : "" %>
                    />
                    <label for="depa_activo" class="form-label">Activo</label>
                </div>

                <div class="mb-4">
                    <label for="depa_aca_id" class="form-label"
                        >Academias</label
                    >
                    <select
                        class="form-select"
                        name="depa_aca_id"
                        id="depa_aca_id"
                    >
                        <% academias.forEach(academia => { %>
                        <option value="<%= academia.academia_id %>">
                            <%= academia.academia_nombre %>
                        </option>
                        <% }) %>
                    </select>
                </div>

                <div class="mb-4">
                    <label for="depa_fecha" class="form-label"
                        >Fecha de creacion</label
                    >
                    <input
                        name="depa_fecha"
                        id="depa_fecha"
                        type="date"
                        class="form-control"
                        value="<%= departamento.departamento_fecha_de_creacion %>"
                    />
                </div>

                <input
                    type="hidden"
                    name="depa_id"
                    value="<%= departamento.departamento_id %>"
                />

                <div class="mb-3">
                    <button type="submit" class="btn btn-secondary">
                        Actualizar
                    </button>
                </div>
            </form>
        </main>

        <%- include('../../../partials/footer') %>
    </body>
</html>
